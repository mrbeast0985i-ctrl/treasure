<!DOCTYPE html>
<html>
<head>
  <title>View Uploaded Image</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <style>
    body { text-align: center; font-family: Arial; margin-top: 50px; }
    img { max-width: 400px; border-radius: 10px; }
  </style>
</head>
<body>

<h2 id="title"></h2>
<img id="displayImg" />

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCDfyVAhNfuXYyzeetQ1_wlFhz7-wXWHDk",
    authDomain: "treasure-f5cc7.firebaseapp.com",
    projectId: "treasure-f5cc7",
    storageBucket: "treasure-f5cc7.firebasestorage.app",
    messagingSenderId: "726318121382",
    appId: "1:726318121382:web:3cf5c5c7e628c9e313cf67"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Get document ID from URL
  const id = new URLSearchParams(window.location.search).get("id");

  db.collection("uploads").doc(id).get().then(doc => {
    if(doc.exists){
      document.getElementById("title").innerText = doc.data().title;
      document.getElementById("displayImg").src = doc.data().imageURL;
    } else {
      document.body.innerHTML = "<h3>‚ùå No record found</h3>";
    }
  });
</script>

</body>
</html>
